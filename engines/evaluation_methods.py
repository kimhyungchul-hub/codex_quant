def ema(values: Sequence[float], period: int) -> Optional[float]:
    # Implementation of ema
    pass

def evaluate_entry_metrics(ctx: Dict[str, Any], params: MCParams, seed: int) -> Dict[str, Any]:
    # Implementation of evaluate_entry_metrics
    pass

def decide(ctx: Dict[str, Any]) -> Dict[str, Any]:
    # Implementation of decide
    pass

def compute_exit_policy_metrics():
    # Implementation of compute_exit_policy_metrics
    pass

# μµλ€ 4κ° ν¬μ§€μ… μ „λµ μ„¤μ • κ°€μ΄λ“

## π“‹ μ„¤μ • μ”μ•½

### π― μ „λµ λ©ν‘
- **μµλ€ ν¬μ§€μ… μ**: 4κ° (μ†μ μ •μ)
- **μ΄ μλ³Έ μ΄μ©λ¥ **: 1000% (10.0x)
- **ν¬μ§€μ…λ‹Ή ν‰κ·  μ΄μ©λ¥ **: 250% (2.5x)
- **μ§„μ… ν’μ§**: κ³ ν’μ§ μ‹ νΈλ§ μ„ νƒ

---

## β™οΈ ν•µμ‹¬ μ„¤μ •κ°’

### 1οΈβƒ£ μ§„μ… λ¬Έν„± (Entry Threshold)
```bash
SCORE_ENTRY_THRESHOLD=0.0002
```

**μ„ νƒ κ°€μ΄λ“:**
| λ¬Έν„±κ°’ | νΉμ„± | μμƒ ν¬μ§€μ… μ | ν’μ§ |
|--------|------|----------------|------|
| 0.0001 | λ‚®μ - λ” λ§μ€ κΈ°ν | 5-8κ° | μ¤‘κ°„ |
| **0.0002** | **μ¤‘κ°„ - κ· ν•μ΅ν μ„ νƒ β­** | **3-5κ°** | **λ†’μ** |
| 0.0005 | λ†’μ - λ§¤μ° μ—„κ²© | 1-3κ° | μµκ³  |

**ν„μ¬ μ„¤μ • (0.0002)μ μλ―Έ:**
- EV Scoreκ°€ 0.0002 μ΄μƒμΈ μ‹ νΈλ§ μ§„μ…
- μ•½ **μƒμ„ 20-30%** μ‹ νΈλ§ ν†µκ³Ό
- 4κ° ν¬μ§€μ… μ μ§€μ— μµμ ν™”

---

### 2οΈβƒ£ ν¬μ§€μ… κ΄€λ¦¬
```bash
MAX_CONCURRENT_POSITIONS=4      # μµλ€ 4κ° ν¬μ§€μ…
DEFAULT_SIZE_FRAC=0.25          # ν¬μ§€μ…λ‹Ή 25% μλ³Έ λ°°λ¶„
PAPER_SIZE_FRAC=0.25            # Paper tradingλ„ λ™μΌ
```

**μλ³Έ λ°°λ¶„ λ΅μ§:**
- κΈ°λ³Έ μλ³Έ: 100% (4κ° Γ— 25%)
- λ λ²„λ¦¬μ§€ μ μ©: κ° ν¬μ§€μ…μ— Kelly μµμ  λ λ²„λ¦¬μ§€ μ μ©
- λ©ν‘ μ΄ μ΄μ©λ¥ : 1000% (ν‰κ·  ν¬μ§€μ…λ‹Ή 250%)

---

### 3οΈβƒ£ λ λ²„λ¦¬μ§€ μ„¤μ •
```bash
MAX_LEVERAGE=20.0               # κ°λ³„ ν¬μ§€μ… μµλ€ λ λ²„λ¦¬μ§€
DEFAULT_LEVERAGE=20.0           # κΈ°λ³Έ λ λ²„λ¦¬μ§€
MAX_NOTIONAL_EXPOSURE=10.0      # μ΄ μ΄μ©λ¥  μƒν• (1000%)
```

**λ λ²„λ¦¬μ§€ λ™μ‘ λ°©μ‹:**
1. Kelly κ³µμ‹μΌλ΅ μµμ  λ λ²„λ¦¬μ§€ κ³„μ‚°
2. κ°λ³„ μƒν•: 20λ°° (μ¶©λ¶„ν λ†’μ)
3. μ΄ μ΄μ©λ¥  μƒν•: 1000% (Gross Exposure κΈ°μ¤€)

---

## π“ μμƒ λ™μ‘ μ‹λ‚λ¦¬μ¤

### μ‹λ‚λ¦¬μ¤ A: μ •μƒ μ΄μ (4κ° ν¬μ§€μ…)
```
ν¬μ§€μ… 1: BTC/USDT  - μλ³Έ 25%, λ λ²„λ¦¬μ§€ 3.0x β†’ μ΄μ©λ¥  75%
ν¬μ§€μ… 2: ETH/USDT  - μλ³Έ 25%, λ λ²„λ¦¬μ§€ 2.5x β†’ μ΄μ©λ¥  62.5%
ν¬μ§€μ… 3: SOL/USDT  - μλ³Έ 25%, λ λ²„λ¦¬μ§€ 2.0x β†’ μ΄μ©λ¥  50%
ν¬μ§€μ… 4: BNB/USDT  - μλ³Έ 25%, λ λ²„λ¦¬μ§€ 1.5x β†’ μ΄μ©λ¥  37.5%
β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
μ΄ μ΄μ©λ¥ : 225% (μ—¬μ  μμ, Kellyκ°€ λ³΄μμ μΌλ΅ λ°°λ¶„)
```

### μ‹λ‚λ¦¬μ¤ B: κ°•ν• μ‹ νΈ (4κ° ν¬μ§€μ…, λ†’μ€ λ λ²„λ¦¬μ§€)
```
ν¬μ§€μ… 1: BTC/USDT  - μλ³Έ 25%, λ λ²„λ¦¬μ§€ 5.0x β†’ μ΄μ©λ¥  125%
ν¬μ§€μ… 2: ETH/USDT  - μλ³Έ 25%, λ λ²„λ¦¬μ§€ 4.0x β†’ μ΄μ©λ¥  100%
ν¬μ§€μ… 3: SOL/USDT  - μλ³Έ 25%, λ λ²„λ¦¬μ§€ 3.5x β†’ μ΄μ©λ¥  87.5%
ν¬μ§€μ… 4: XRP/USDT  - μλ³Έ 25%, λ λ²„λ¦¬μ§€ 3.0x β†’ μ΄μ©λ¥  75%
β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
μ΄ μ΄μ©λ¥ : 387.5% (μ κ·Ήμ  λ°°λ¶„)
```

### μ‹λ‚λ¦¬μ¤ C: λ§¤μ° κ°•ν• μ‹ νΈ (μƒν• λ„λ‹¬)
```
ν¬μ§€μ… 1: BTC/USDT  - μλ³Έ 25%, λ λ²„λ¦¬μ§€ 10.0x β†’ μ΄μ©λ¥  250%
ν¬μ§€μ… 2: ETH/USDT  - μλ³Έ 25%, λ λ²„λ¦¬μ§€ 10.0x β†’ μ΄μ©λ¥  250%
ν¬μ§€μ… 3: SOL/USDT  - μλ³Έ 25%, λ λ²„λ¦¬μ§€ 10.0x β†’ μ΄μ©λ¥  250%
ν¬μ§€μ… 4: BNB/USDT  - μλ³Έ 25%, λ λ²„λ¦¬μ§€ 10.0x β†’ μ΄μ©λ¥  250%
β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
μ΄ μ΄μ©λ¥ : 1000% (μƒν• λ„λ‹¬, Kelly capping μ‘λ™)
```

---

## π”§ λ¬Έν„±κ°’ μ΅°μ • κ°€μ΄λ“

### λ„λ¬΄ λ§μ€ ν¬μ§€μ…μ΄ μ—΄λ¦¬λ” κ²½μ° (5κ° μ΄μƒ)
```bash
# λ¬Έν„±μ„ λ†’μ—¬μ„ λ” μ—„κ²©ν•κ²
SCORE_ENTRY_THRESHOLD=0.0003  # λλ” 0.0005
```

### ν¬μ§€μ…μ΄ λ„λ¬΄ μ κ² μ—΄λ¦¬λ” κ²½μ° (1-2κ°)
```bash
# λ¬Έν„±μ„ λ‚®μ¶°μ„ λ” λ§μ€ κΈ°ν ν—μ©
SCORE_ENTRY_THRESHOLD=0.0001  # λλ” 0.00015
```

### μλ³Έ μ΄μ©λ¥ μ΄ λ‚®μ€ κ²½μ° (500% λ―Έλ§)
**μ›μΈ λ¶„μ„:**
1. μ‹ νΈ ν’μ§μ΄ λ‚®μ•„μ„ Kellyκ°€ λ³΄μμ μΌλ΅ λ°°λ¶„
2. ν¬μ§€μ… μκ°€ λ¶€μ΅± (3κ° μ΄ν•)

**ν•΄κ²° λ°©λ²•:**
```bash
# Option 1: λ¬Έν„±μ„ λ‚®μ¶°μ„ λ” λ§μ€ ν¬μ§€μ… ν—μ©
SCORE_ENTRY_THRESHOLD=0.00015

# Option 2: ν¬μ§€μ… μλ¥Ό λλ¦Ό (5-6κ°)
MAX_CONCURRENT_POSITIONS=5
DEFAULT_SIZE_FRAC=0.20  # 5κ° Γ— 20% = 100%
```

---

## π“ λ¨λ‹ν„°λ§ ν¬μΈνΈ

### 1. ν¬μ§€μ… μ ν™•μΈ
```bash
# λ€μ‹λ³΄λ“μ—μ„ ν™•μΈ
http://localhost:9999/api/status
```
- `open_positions` κ°μκ°€ 3-4κ° μ μ§€λλ”μ§€ ν™•μΈ
- λ„λ¬΄ μ μΌλ©΄ (1-2κ°): λ¬Έν„± λ‚®μ¶”κΈ°
- λ„λ¬΄ λ§μΌλ©΄ (5κ° μ΄μƒ): λ¬Έν„± λ†’μ΄κΈ°

### 2. μλ³Έ μ΄μ©λ¥  ν™•μΈ
```bash
# λ΅κ·Έμ—μ„ ν™•μΈ
tail -f engine_stdout_final.log | grep "KELLY_CAP"
```
- `total_util` κ°’ ν™•μΈ
- λ©ν‘: 600-1000% λ²”μ„
- λ„λ¬΄ λ‚®μΌλ©΄: λ¬Έν„± λ‚®μ¶”κΈ° λλ” ν¬μ§€μ… μ λλ¦¬κΈ°

### 3. μ§„μ… ν•„ν„°λ§ λ΅κ·Έ ν™•μΈ
```bash
# μ§„μ… μ‹¤ν¨ μ›μΈ ν™•μΈ
tail -f engine_stdout_final.log | grep "SCORE_FILTER"
```
- `score_threshold_eff` κ°’ ν™•μΈ
- λ€λ¶€λ¶„ ν•„ν„°λ§λλ©΄: λ¬Έν„± λ‚®μ¶”κΈ°

---

## π›οΈ κ³ κΈ‰ νλ‹

### μ°¨λ“± λ¬Έν„± (Horizonλ³„)
ν„μ¬ μ‹μ¤ν…μ€ **horizonλ³„ μ°¨λ“± λ¬Έν„±**μ„ μ‚¬μ©ν•©λ‹λ‹¤:

```python
# entry_evaluation.py λΌμΈ 1982-1984
th_base = config.score_entry_threshold  # 0.0002
th_h = th_base * math.sqrt(h / 180.0)
th_h = max(0.0005, th_h)  # μ λ€ ν•ν•
```

**μλ―Έ:**
- μ§§μ€ horizon (15s, 30s): λ‚®μ€ λ¬Έν„± (λ” λ―Όκ°)
- κΈ΄ horizon (180s, 300s): λ†’μ€ λ¬Έν„± (λ” λ³΄μμ )

**μμ‹:**
- h=15s: `th = 0.0002 * sqrt(15/180) β‰ 0.00006` β†’ ν•ν• 0.0005 μ μ©
- h=60s: `th = 0.0002 * sqrt(60/180) β‰ 0.00012`
- h=180s: `th = 0.0002 * sqrt(180/180) = 0.0002`
- h=300s: `th = 0.0002 * sqrt(300/180) β‰ 0.00026`

---

## β… μ μ© λ°©λ²•

### 1. μ—”μ§„ μ¬μ‹μ‘
```bash
# ν„μ¬ μ‹¤ν–‰ μ¤‘μΈ μ—”μ§„ μΆ…λ£
pkill -f main_engine

# μƒ μ„¤μ •μΌλ΅ μ¬μ‹μ‘
./scripts/run_main_paper_mainnet.sh
```

### 2. μ„¤μ • ν™•μΈ
```bash
# λ΅κ·Έμ—μ„ μ„¤μ •κ°’ ν™•μΈ
tail -f engine_stdout_final.log | grep "SCORE_ENTRY_THRESHOLD"
```

### 3. μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§
```bash
# λ€μ‹λ³΄λ“ μ ‘μ†
open http://localhost:9999

# λλ” APIλ΅ ν™•μΈ
curl http://localhost:9999/api/status | jq '.open_positions | length'
```

---

## π¨ μ£Όμμ‚¬ν•­

1. **λ¬Έν„±κ°’ λ³€κ²½ ν›„ κ΄€μ°° μ‹κ°„**: μµμ† 30λ¶„-1μ‹κ°„ κ΄€μ°°
   - μ¦‰μ‹ ν¨κ³Όκ°€ λ‚νƒ€λ‚μ§€ μ•μ„ μ μμ
   - μ‹ νΈ μƒμ„± μ£ΌκΈ°λ¥Ό κ³ λ ¤

2. **λ°±ν…μ¤ν… κ¶μ¥**: ν° λ³€κ²½ μ „μ— κ³Όκ±° λ°μ΄ν„°λ΅ κ²€μ¦
   - λ¬Έν„±κ°’ 0.0001 vs 0.0002 vs 0.0005 λΉ„κµ

3. **μ‹μ¥ μƒν™© κ³ λ ¤**:
   - λ³€λ™μ„± λ†’μ€ μ‹μ¥: λ‚®μ€ λ¬Έν„± (λ” λ§μ€ κΈ°ν)
   - λ³€λ™μ„± λ‚®μ€ μ‹μ¥: λ†’μ€ λ¬Έν„± (ν’μ§ μ°μ„ )

---

## π“ λ¬Έμ  ν•΄κ²°

### Q1: ν¬μ§€μ…μ΄ μ „ν€ μ—΄λ¦¬μ§€ μ•μ•„μ”
**A:** λ¬Έν„±μ΄ λ„λ¬΄ λ†’κ±°λ‚ μ‹ νΈ ν’μ§μ΄ λ‚®μ
```bash
# μ„μ‹λ΅ λ¬Έν„±μ„ λ§¤μ° λ‚®κ² μ„¤μ •
SCORE_ENTRY_THRESHOLD=0.00001
```

### Q2: ν¬μ§€μ…μ΄ λ„λ¬΄ μμ£Ό λ°”λ€μ–΄μ” (churning)
**A:** λ¬Έν„±μ„ λ†’μ΄κ³  switch buffer μ¦κ°€
```bash
SCORE_ENTRY_THRESHOLD=0.0005
# economic_brain.pyμ switch_bufferλ„ μ¦κ°€
```

### Q3: μλ³Έ μ΄μ©λ¥ μ΄ 200%μ—μ„ λ©μ¶°μ”
**A:** Kellyκ°€ λ³΄μμ μΌλ΅ λ°°λ¶„ μ¤‘ - μ‹ νΈ ν’μ§ κ°μ„  ν•„μ”
- μ•ν μ¤μΌ€μΌλ§ μ¦κ°€: `ALPHA_SCALING_FACTOR=150.0`
- λλ” ν¬μ§€μ… μ μ¦κ°€: `MAX_CONCURRENT_POSITIONS=5`

---

## π“ κ΄€λ ¨ νμΌ

- **μ„¤μ • νμΌ**: `state/bybit.env`
- **μ§„μ… λ΅μ§**: `engines/mc/entry_evaluation.py` (λΌμΈ 1970-2100)
- **κ·Έλ£Ή λ­ν‚Ή**: `core/orchestrator.py` (λΌμΈ 1731-1823)
- **Kelly λ°°λ¶„**: `core/kelly_leverage.py`

---

**λ§μ§€λ§‰ μ—…λ°μ΄νΈ**: 2026-01-07
**μ„¤μ • λ²„μ „**: v1.0 (4κ° ν¬μ§€μ… μ „λµ)
